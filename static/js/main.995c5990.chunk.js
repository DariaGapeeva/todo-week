(this["webpackJsonptodo-week"]=this["webpackJsonptodo-week"]||[]).push([[0],{49:function(n,e,t){n.exports=t(77)},54:function(n,e,t){},77:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),o=t(18),i=t.n(o),c=(t(54),t(4)),u=t(15),d=t(3),s=t.n(d),l=t(7),f=t(2),p=t(6),b=["\u041f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a","\u0412\u0442\u043e\u0440\u043d\u0438\u043a","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041f\u044f\u0442\u043d\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043e\u0442\u0430","\u0412\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435"],m=function(n){var e=b.map((function(e){return g(n,e)}));return[].concat(Object(f.a)(e[0]),Object(f.a)(e[1]),Object(f.a)(e[2]),Object(f.a)(e[3]),Object(f.a)(e[4]),Object(f.a)(e[5]),Object(f.a)(e[6]))};function g(n,e){return n.filter((function(n){return n.day===e})).sort((function(n,e){return n.index>e.index?1:-1}))}var O=t(40),x=t.n(O).a.create({baseURL:"https://todo-list-e1cb3.firebaseio.com/"}),v=function(){return Object(l.a)(s.a.mark((function n(){var e,t,r;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,x.get("todos.json");case 3:return e=n.sent,t=Object.keys(e.data).map((function(n){return Object(p.a)(Object(p.a)({},e.data[n]),{},{id:n})})),r=m(t),n.abrupt("return",r);case 9:n.prev=9,n.t0=n.catch(0),console.error(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()},j=function(n,e,t,r){return x.post("todos.json",{task:n,day:e,index:t,done:r})},h=function(n){return x.delete("todos/".concat(n,".json"))},E=function(n,e){return x.patch("todos/".concat(n,".json"),{done:e})},y=function(n,e){return x.patch("todos/".concat(n,".json"),{day:e})},k=function(n,e){return x.patch("todos/".concat(n,".json"),{index:e})},I={todos:[],loadingDay:{isLoading:!1,day:""},loading:!1},D=function(n){return{type:"SHOW_LOADING_DAY",day:n}},w=function(n){return{type:"HIDE_LOADING_DAY",day:n}},_=function(n){return{type:"DELETE_TASK",id:n}},T=function(n,e,t,r,a){return{type:"ADD_TASK",task:n,day:e,index:t,done:r,id:a}},S=function(n){return{type:"CHECKED",id:n}},L=function(n,e,t){return{type:"MOVE_TASK_IN_SAME_COLUMN",sourceIndex:n,destinationIndex:e,draggableId:t}},A=function(n,e,t,r){return{type:"MOVE_TASK_IN_OTHER_COLUMN",sourceIndex:n,destinationIndex:e,destinationId:t,draggableId:r}},C=t(21),N=t(5),M=t(14),H=t(47),R=t(48),K=t(46);function P(){var n=Object(c.a)(["\n  border: ",";\n\n  border-radius: 5px;\n  width: 100%;\n  padding: 5px;\n  box-sizing: border-box;\n  resize: none;\n  outline: none;\n"]);return P=function(){return n},n}function U(){var n=Object(c.a)(["\n  position: relative;\n\n  width: 100%;\n  margin: 10px 0px 10px 0px;\n"]);return U=function(){return n},n}var V=N.a.div(U()),q=Object(N.a)(K.a)(P(),(function(n){return n.required?"1px solid red":"1px solid MediumPurple"})),z=function(n){var e=n.label,t=n.register,r=n.required,o=Object(R.a)(n,["label","register","required"]);return a.a.createElement(V,{required:r},a.a.createElement(q,Object.assign({name:e,ref:t({required:r})},o)))};function B(){var n=Object(c.a)(["\n  border-radius: 5px;\n  background-color: MediumSlateBlue;\n  color: #fff;\n  font-size: 1rem;\n  cursor: pointer;\n"]);return B=function(){return n},n}function W(){var n=Object(c.a)(["\n  display: flex;\n  justify-content: flex-end;\n"]);return W=function(){return n},n}var F=N.a.div(W()),G=N.a.button(B()),X=function(n){var e=Object(H.a)({defaultValues:{something:"anything"}}),t=e.register,r=e.handleSubmit,o=e.reset,i=e.formState.isSubmitSuccessful,c=a.a.useState({}),u=Object(M.a)(c,1)[0];return a.a.useEffect((function(){i&&o(Object(p.a)({},u))}),[i,u,o]),a.a.createElement("form",{onSubmit:r((function(e){n.addTask(e.task,n.day,n.index,!1)}))},a.a.createElement(z,{register:t,required:!0,type:"text",label:"task",placeholder:"\u0414\u043e\u0431\u0430\u0432\u044c \u0437\u0430\u0434\u0430\u0447\u0443",autoFocus:!0}),a.a.createElement(F,null,a.a.createElement(G,null,"+")))};function Y(){var n=Object(c.a)(["\n  left: 56px;\n  animation: "," 0.6s infinite;\n"]);return Y=function(){return n},n}function J(){var n=Object(c.a)(["\n  left: 32px;\n  animation: "," 0.6s infinite;\n"]);return J=function(){return n},n}function $(){var n=Object(c.a)(["\n  left: 8px;\n  animation: "," 0.6s infinite;\n"]);return $=function(){return n},n}function Q(){var n=Object(c.a)(["\n  left: 8px;\n  animation: "," 0.6s infinite;\n"]);return Q=function(){return n},n}function Z(){var n=Object(c.a)(["\n0% {\n    transform: scale(1);\n  }\n  100% {\n    transform: scale(0);\n  }\n"]);return Z=function(){return n},n}function nn(){var n=Object(c.a)(["\n0% {\n    transform: translate(0, 0);\n  }\n  100% {\n    transform: translate(24px, 0);\n  }\n"]);return nn=function(){return n},n}function en(){var n=Object(c.a)(["\n0% {\n    transform: scale(0);\n  }\n  100% {\n    transform: scale(1);\n  }\n"]);return en=function(){return n},n}function tn(){var n=Object(c.a)(["\n  position: absolute;\n  top: 33px;\n  width: 13px;\n  height: 13px;\n  border-radius: 50%;\n  background: silver;\n  animation-timing-function: cubic-bezier(0, 1, 1, 0);\n"]);return tn=function(){return n},n}function rn(){var n=Object(c.a)(["\n  isplay: inline-block;\n  position: relative;\n  width: 80px;\n  height: 80px;\n"]);return rn=function(){return n},n}var an=N.a.div(rn()),on=N.a.div(tn()),cn=Object(N.b)(en()),un=Object(N.b)(nn()),dn=Object(N.b)(Z()),sn=Object(N.a)(on)(Q(),cn),ln=Object(N.a)(on)($(),un),fn=Object(N.a)(on)(J(),un),pn=Object(N.a)(on)(Y(),dn),bn=function(){return a.a.createElement(an,null,a.a.createElement(sn,null),a.a.createElement(ln,null),a.a.createElement(fn,null),a.a.createElement(pn,null))};function mn(){var n=Object(c.a)(["\n  border-radius: 5px;\n\n  font-size: 1rem;\n  color: crimson;\n  font-weight: bold;\n  border: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  cursor: pointer;\n"]);return mn=function(){return n},n}function gn(){var n=Object(c.a)(["\n  margin-left: 10px;\n  margin-right: 10px;\n  cursor: pointer;\n"]);return gn=function(){return n},n}function On(){var n=Object(c.a)(["\n  margin-right: 5px;\n"]);return On=function(){return n},n}function xn(){var n=Object(c.a)(["\n  display: flex;\n  font-size: 0.9rem;\n  justify-content: space-between;\n  align-items: flex-start;\n  border: 1px solid rgba(188, 143, 143);\n  background-color: ",";\n  border-radius: 5px;\n  padding: 20px 5px 10px 5px;\n  margin-bottom: 10px;\n  position: relative;\n"]);return xn=function(){return n},n}function vn(){var n=Object(c.a)(["\n  text-decoration: ",";\n"]);return vn=function(){return n},n}var jn=N.a.span(vn(),(function(n){return n.done?"line-through":"none"})),hn=N.a.div(xn(),(function(n){return n.isDragging,"rgba(255, 250, 250)"})),En=N.a.span(On()),yn=N.a.input(gn()),kn=N.a.button(mn()),In=function(n){return a.a.createElement(C.b,{draggableId:n.id,index:n.index,key:n.id},(function(e,t){return a.a.createElement(hn,Object.assign({},e.draggableProps,e.dragHandleProps,{ref:e.innerRef,isDragging:t.isDragging}),n.loadingButton&&a.a.createElement(bn,null),a.a.createElement(En,null," ",n.number,"."),a.a.createElement(jn,{done:n.todo.done},n.todo.task),a.a.createElement(yn,{type:"checkbox",checked:n.todo.done,onChange:function(){return n.checked(n.todo.id,!n.todo.done)}}),a.a.createElement(kn,{onClick:function(){return n.deleteTask(n.todo.id,n.day)}},"\xd7"))}))};function Dn(){var n=Object(c.a)(["\n  list-style-type: none;\n  border: 1px solid MediumPurple;\n  border-radius: 8px;\n  margin-bottom: 15px;\n  margin-top: 15px;\n  padding: 10px;\n  transition: background-color 0.2s ease;\n  background-color: ",";\n"]);return Dn=function(){return n},n}function wn(){var n=Object(c.a)(['\n  width: 100%;\n  height: 6px;\n  background-color: rgba(255, 228, 225);\n  border-radius: 5px;\n  border: 1px solid MediumPurple;\n  position: relative;\n\n  &:after {\n    content: "";\n    position: absolute;\n    left: 0;\n    display: block;\n    height: 6px;\n    background-color: DarkSlateBlue;\n    border-radius: 5px;\n    width: ',"%;\n  }\n"]);return wn=function(){return n},n}function _n(){var n=Object(c.a)(["\n  margin-bottom: 7px;\n  display: flex;\n  justify-content: space-between;\n"]);return _n=function(){return n},n}function Tn(){var n=Object(c.a)(["\n  margin-bottom: 10px;\n"]);return Tn=function(){return n},n}var Sn=N.a.div(Tn()),Ln=N.a.div(_n()),An=N.a.div(wn(),(function(n){return n.length})),Cn=N.a.li(Dn(),(function(n){return n.isDraggingOver?"Gainsboro":"rgba(255, 228, 225)"})),Nn=function(n){var e=n.todos.filter((function(e){return e.day===n.day})),t=e.filter((function(n){return!0===n.done})).length/e.length*100;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Sn,null,a.a.createElement(Ln,null,a.a.createElement("span",null," \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0434\u0435\u043b"),a.a.createElement("span",null," ",e.filter((function(n){return!0===n.done})).length,"/",e.length)),a.a.createElement(An,{length:t})),a.a.createElement(X,{addTask:n.addTask,day:n.day,index:e.length}),a.a.createElement(C.c,{droppableId:n.day},(function(t,r){return a.a.createElement(Cn,Object.assign({},t.droppableProps,{ref:t.innerRef,isDraggingOver:r.isDraggingOver})," ",n.loadingDay.isLoading&&n.loadingDay.day===n.day&&a.a.createElement(bn,null),0===e.length?"\u0437\u0430\u0434\u0430\u0447 \u043d\u0435\u0442":e.map((function(e,t){return a.a.createElement(In,{key:e.id,id:e.id,index:n.todos.indexOf(e),number:t+1,todo:e,deleteTask:n.deleteTask,checked:n.checked,day:n.day})})),t.placeholder)})))},Mn=Object(u.b)((function(n){return{todos:n.todoList.todos,loading:n.todoList.loadingButton,loadingDay:n.todoList.loadingDay}}),(function(n){return{addTask:function(e,t,r,a){return n(function(n,e,t,r){return function(){var a=Object(l.a)(s.a.mark((function a(o){var i;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,o(D(e)),a.next=4,j(n,e,t,r);case 4:i=a.sent,o(w(e)),o(T(n,e,t,r,i.data.name)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),alert(a.t0.message);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(n){return a.apply(this,arguments)}}()}(e,t,r,a))},deleteTask:function(e,t){return n(function(n,e){return function(){var t=Object(l.a)(s.a.mark((function t(r){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(D(e)),t.next=4,h(n);case 4:return t.next=6,v();case 6:return a=t.sent,t.next=9,Promise.all(Object(f.a)(a.map((function(n,e){return k(n.id,e)}))));case 9:r(w(e)),r(_(n)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),alert(t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(n){return t.apply(this,arguments)}}()}(e,t))},checked:function(e,t){return n(function(n,e){return function(){var t=Object(l.a)(s.a.mark((function t(r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E(n,e);case 3:r(S(n)),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),alert(t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(n){return t.apply(this,arguments)}}()}(e,t))}}}))((function(n){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Nn,{todos:n.todos,day:n.day,addTask:n.addTask,deleteTask:n.deleteTask,loading:n.loading,loadingDay:n.loadingDay,checked:n.checked}))}));function Hn(){var n=Object(c.a)(["\n  flex: 0 1 18%;\n  margin: 0px 10px 0px 10px;\n"]);return Hn=function(){return n},n}function Rn(){var n=Object(c.a)(["\n  display: flex;\n  flex-wrap: wrap;\n"]);return Rn=function(){return n},n}var Kn=N.a.div(Rn()),Pn=N.a.div(Hn()),Un=function(n){var e=n.moveTaskInSameColumn,t=n.moveTaskInOtherColumn,r=n.loading;return a.a.createElement(a.a.Fragment,null,r?a.a.createElement(bn,null):a.a.createElement(C.a,{onDragStart:function(){},onDragEnd:function(n){var r=n.draggableId,a=n.destination,o=n.source;a&&(a.droppableId===o.droppableId&&a.index===o.index||(a.droppableId===o.droppableId?e(o.index,a.index,o.droppableId,r):a.droppableId!==o.droppableId&&t(o.index,o.droppableId,a.index,a.droppableId,r)))}},a.a.createElement(Kn,null,b.map((function(n){return a.a.createElement(Pn,null,a.a.createElement("h3",null," ",n," "),a.a.createElement(Mn,{day:n}))})))))},Vn=Object(u.b)((function(n){return{loading:n.todoList.loading}}),(function(n){return{moveTaskInSameColumn:function(e,t,r,a){return n(function(n,e,t,r){return function(){var a=Object(l.a)(s.a.mark((function a(o){var i,c,u,d,l,p;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,o(D(t)),o(L(n,e,r)),a.next=5,v();case 5:return i=a.sent,c=i.find((function(n){return n.id===r})),u=i[e],d=g(i,t),l=d.indexOf(c),p=d.indexOf(u),console.log("newSourceIndex",l),console.log("newDestinationIndex",p),a.next=15,Promise.all(Object(f.a)(d.map((function(n,e){return l<e&&e<=p?k(n.id,e-1):p<=e&&e<l?k(n.id,e+1):void 0}))));case 15:return a.next=17,k(r,p);case 17:o(w(t)),a.next=23;break;case 20:a.prev=20,a.t0=a.catch(0),alert(a.t0.message);case 23:case"end":return a.stop()}}),a,null,[[0,20]])})));return function(n){return a.apply(this,arguments)}}()}(e,t,r,a))},moveTaskInOtherColumn:function(e,t,r,a,o){return n(function(n,e,t,r,a){return function(){var o=Object(l.a)(s.a.mark((function o(i){var c,u,d,l,p,b,m;return s.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,i(D(r)),i(A(n,t,r,a)),o.next=5,v();case 5:return c=o.sent,console.log(e,"sourceId"),u=c.find((function(n){return n.id===a})),d=c[t],l=g(c,e),p=g(c,r),b=l.indexOf(u),m=-1!==p.indexOf(d)?p.indexOf(d):p.length,console.log("newSourceIndex",b),console.log("newDestinationIndex",m),o.next=17,Promise.all([].concat(Object(f.a)(l.map((function(n,e){if(e>b)return k(n.id,e-1)}))),Object(f.a)(p.map((function(n,e){if(e>=m)return k(n.id,e+1)}))),[y(a,r),k(a,m)]));case 17:i(w(r)),o.next=23;break;case 20:o.prev=20,o.t0=o.catch(0),alert(o.t0.message);case 23:case"end":return o.stop()}}),o,null,[[0,20]])})));return function(n){return o.apply(this,arguments)}}()}(e,t,r,a,o))},setTodos:function(){return n(function(){var n=Object(l.a)(s.a.mark((function n(e){var t;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e({type:"SHOW_LOADER"}),n.next=4,v();case 4:t=n.sent,e({type:"HIDE_LOADER"}),e({type:"SET_TODOS",todos:t}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),alert(n.t0.message);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}())}}}))((function(n){return Object(r.useEffect)((function(){n.setTodos()}),[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(Un,{moveTaskInSameColumn:n.moveTaskInSameColumn,moveTaskInOtherColumn:n.moveTaskInOtherColumn,loading:n.loading}))}));function qn(){var n=Object(c.a)(["\n  padding: 15px;\n  min-heigth: 100vh;\n \n \n  );\n"]);return qn=function(){return n},n}var zn=N.a.div(qn());var Bn=function(){return a.a.createElement(zn,null,a.a.createElement(Vn,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Wn=t(12),Fn=t(44),Gn=Object(Wn.c)({todoList:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SHOW_LOADING_DAY":return Object(p.a)(Object(p.a)({},n),{},{loadingDay:{isLoading:!0,day:e.day}});case"HIDE_LOADING_DAY":return Object(p.a)(Object(p.a)({},n),{},{loadingDay:{isLoading:!1,day:e.day}});case"SHOW_LOADER":return Object(p.a)(Object(p.a)({},n),{},{loading:!0});case"HIDE_LOADER":return Object(p.a)(Object(p.a)({},n),{},{loading:!1});case"SET_TODOS":var t=Object(p.a)(Object(p.a)({},n),{},{todos:e.todos});return t;case"ADD_TASK":var r={id:e.id,day:e.day,task:e.task,done:e.done,index:n.todos.filter((function(n){return n.day===e.day})).length},a=n.todos.filter((function(n){return n.day===e.day})),o=n.todos.indexOf(a[a.length-1]),i=Object(p.a)(Object(p.a)({},n),{},{todos:Object(f.a)(n.todos)});return i.todos.splice(o+1,0,r),i;case"DELETE_TASK":return Object(p.a)(Object(p.a)({},n),{},{todos:n.todos.filter((function(n){return n.id!==e.id}))});case"CHECKED":return Object(p.a)(Object(p.a)({},n),{},{todos:n.todos.map((function(n){return n.id===e.id?Object(p.a)(Object(p.a)({},n),{},{done:!n.done}):n}))});case"MOVE_TASK_IN_SAME_COLUMN":var c=n.todos.find((function(n){return n.id===e.draggableId})),u=Object(p.a)(Object(p.a)({},n),{},{todos:Object(f.a)(n.todos)});return u.todos.splice(e.sourceIndex,1),u.todos.splice(e.destinationIndex,0,c),u;case"MOVE_TASK_IN_OTHER_COLUMN":var d=n.todos.find((function(n){return n.id===e.draggableId})),s=Object(p.a)(Object(p.a)({},n),{},{todos:Object(f.a)(n.todos)});s.todos.splice(e.sourceIndex,1);var l=e.destinationIndex;return e.sourceIndex<e.destinationIndex&&(l-=1),s.todos.splice(l,0,Object(p.a)(Object(p.a)({},d),{},{day:e.destinationId})),s;default:return n}}}),Xn=Object(Wn.e)(Gn,Object(Wn.d)(Object(Wn.a)(Fn.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));window.store=Xn;var Yn=Xn,Jn=t(45);i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(u.a,{store:Yn},a.a.createElement(Jn.a,null,a.a.createElement(Bn,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[49,1,2]]]);
//# sourceMappingURL=main.995c5990.chunk.js.map